extends layout2

block content
    table
        tr
            td(width='600',align='left',style='color:red')
                - if(message) {
                    "#{message}"
                - }
            td(width='550',align='right') "#{name}"
        tr
            td(width='600',align='left')
                #langbox
                    span#language_i18n Language:
                    select#lang
                    span#langbrowser
            td(align='right')
                button#btn-logout2.btn.btn-primary
                    i.icon-lock.icon-white
                    span#signout_i18n Sign Out
    #wrapper.ui-widget-content.ui-corner-all
        p
            #welcome_i18n(align='center',style='font-family:Century,Lucida Sans Unicode,sans-serif;font-size:4.4em;line-height:1.1em;color:#47FFFC;') Welcome to YaTT
        #lectures_i18n.subtitle Lecture
        p
        div(align='right')
            table
                tr
                    td
                        p
                        a.open-UpdateAndEnd.bbutton(href="#UpdateAndEnd",role="button",data-toggle='modal')
                            span#update_and_edit_i18n Update/Edit(OFF)
                        #UpdateAndEnd.modal.hide.fade(tabindex='-1',role='dialog',aria-labelledby='myModalLabel',aria-hidden='true')
                            div.modal-header(style='line-height:1.5em;')
                                button.close(data-dismiss='modal') x
                                span#confirm_i18n(style='font-size:12pt;') Confirm
                            div.modal-body(style='line-height:1.3em;')
                                    h4
                                        span#modal_title_i18n Title
                                    p
                                        #modal-title
                                    h4
                                        span#modal_objectives_i18n Objectives
                                    p
                                        #modal-objective
                                    h4
                                        span#modal_textbooks_i18n Textbooks
                                    p
                                        #modal-textbook
                                    h4
                                        span#modal_references_i18n References
                                    p
                                        #modal-reference
                                    h4
                                        span#modal_advreferences_i18n Advanced Reference
                                    p
                                        #modal-advreference
                                    form.form-inline(method='GET',action='/clayout')
                                        #clayout_button_i18n
                                            input.btn.btn-success(type='submit',value='Update')
                                        input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                        input(type='hidden',name='update',value='true')
                                        input#input-title2(type='hidden',name='title')
                                        input#input-objective2(type='hidden',name='objective')
                                        input#input-textbook2(type='hidden',name='textbook')
                                        input#input-reference2(type='hidden',name='reference')
                                        input#input-advreference2(type='hidden',name='advreference')
                                form.form-inline(method='GET',action='/home')
                                    input(type='hidden',name='start',value='true')
                                    #cancel_and_edit_off_i18n
                                        input.btn.btn-success(type='submit',name='submit',value='CANCEL/Edit(OFF)')
                            div.modal-footer
            div(align="center",style="font-size:4.5em;color:#0B3382;line-height:1.3em;")
                span #{cls.title}
                span (#{cls.lecCode})
            p
            table#ltable(border='0',cellspacing='0',cellpadding='0',width='100%')
                tbody
                   tr
                      td(width='100%',valign='top',style='padding-right:0pt;padding-top:0pt')
                           table(border='0',cellspacing='4',cellpadding='0',width='440',style='width:100.0%;')
                               tbody
                                   - for(var i=0; i<cls.group.length; i++) {
                                       tr
                                           td.righttitle2 #{i+1} &nbsp
                                               a.open-LayoutGroup.btn(href='#dgrp#{i}',role='button',data-toggle='modal')
                                                   i.icon-trash
                                               div.modal.hide.fade(id='dgrp#{i}',tabindex='-1',role='dialog',aria-labelledy='myModalLabel',aria-hidden='true')
                                                   div.modal-header
                                                       button.close(data-dismiss='modal') x
                                                       | Delete
                                                   div.modal-body(style='line-height:1.3em;')
                                                       form.input-append(method='POST',action='/clayout')
                                                           input(type='hidden',name='delete',value='line')
                                                           input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                                           - var strCls = JSON.stringify(cls);
                                                           input(type='hidden',name='cls',value='#{strCls}')
                                                           input(type='hidden',name='i',value='#{i}')
                                                           input.btn(type='submit',name='submit',value='CANCEL')
                                                           input.btn.btn-success(type='submit',name='submit',value='OK')
                                                   div.modal-footer
                                               span &nbsp
                                               a.open-LayoutGroup.btn(href='#cgrp#{i}',role='button',data-toggle='modal')
                                                   i.icon-hand-down
                                               div.modal.hide.fade(id='cgrp#{i}',tabindex='-1',role='dialog',aria-labelledy='myModalLabel',aria-hidden='true')
                                                   div.modal-header
                                                       button.close(data-dismiss='modal') x
                                                       | Copy
                                                   div.modal-body(style='line-height:1.3em;')
                                                       - for(var j=0; j<cls.group.length; j++) {
                                                           h4
                                                               span #{cls.group[j].name}
                                                           p
                                                       - }
                                                       form.input-append(method='POST',action='/clayout')
                                                           input(type='hidden',name='delete',value='cgroup')
                                                           input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                                           - var strCls = JSON.stringify(cls);
                                                           input(type='hidden',name='cls',value='#{strCls}')
                                                           input(type='hidden',name='i',value='#{i}')
                                                           input.btn(type='submit',name='submit',value='CANCEL')
                                                           input.btn.btn-success(type='submit',name='submit',value='OK')
                                                   div.modal-footer
                                               span &nbsp
                                               textarea#title(name='title',height='20',cols='70') #{cls.group[i].name}
                                       - cls.group[i].classes.forEach(function(f) {
                                           tr
                                               td.rightcontents2
                                                   img(border='0',width='10',height='10',src='img/redtri.gif')
                                                   a(href='intro/index.html') #{f.name}
                                       - });
                                   - };
        hr
        div(align='right')
            table
                tr
                    td
                        #author_name_i18n(style='font-size:2em;color:#0B3382;')
                    td
                        span(style='font-size:2em;color:#0B3382;') #{name}
                    td
                        span(style='font-size:2em;color:#0B3382;') [#{cls.lang}]
        hr
        p
            div(align='center') Last update: Sun Dec  9 11:44:59 PST 2012 by
                span(style='vertical-align:3pt;')
                    img(src="img/logo231.gif",width="87",height="27",alt="yass@hosei.ac.jp")

    include modals/alert
    include modals/lost-password

block scripts
    script(src='/vendor/jquery/jquery-1.8.1.min.js')
    script(src='/vendor/jquery/jquery.i18n.properties-1.0.9.js')
    script(src='/vendor/jquery.form.js')
    script(src='/vendor/bootstrap-modal.js')
    script(src='/vendor/bootstrap-transition.js')
    script(src='/js/views/login.js')
    script(src='/js/controllers/loginController.js')
    script(src='/js/controllers/homeController.js')
    script(src='/js/form-validators/loginValidator.js')
    script(src='/js/form-validators/emailValidator.js')
