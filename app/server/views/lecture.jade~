extends layout2

block content
    table
        tr
            td(width='600',align='left',style='color:red')
                - if(message) {
                    "#{message}"
                - }
            td(width='550',align='right') "#{name}"
        tr
            td(width='600',align='left')
                #langbox
                    span#language_i18n Language:
                    select#lang
                    span#langbrowser
            td(align='right')
                button#btn-logout2.btn.btn-primary
                    i.icon-lock.icon-white
                    span#signout_i18n Sign Out
    #wrapper.ui-widget-content.ui-corner-all
        p
            #welcome_i18n(align='center',style='font-family:Century,Lucida Sans Unicode,sans-serif;font-size:4.4em;line-height:1.1em;color:#47FFFC;') Welcome to YaTT
        #lectures_i18n.subtitle Lecture
        p
        div(align='right')
            table
                tr
                    td
                        p
                        a.open-UpdateAndEnd.bbutton(href="#UpdateAndEnd",role="button",data-toggle='modal')
                            span#update_and_edit_i18n Update/Edit(OFF)
                        #UpdateAndEnd.modal.hide.fade(tabindex='-1',role='dialog',aria-labelledby='myModalLabel',aria-hidden='true')
                            div.modal-header(style='line-height:1.5em;')
                                button.close(data-dismiss='modal') x
                                span#confirm_i18n(style='font-size:12pt;') Confirm
                            div.modal-body(style='line-height:1.3em;')
                                - if(cls.lecCode!='New') {
                                    h4
                                        span#modal_title_i18n Title
                                    p
                                        #modal-title
                                    h4
                                        span#modal_objectives_i18n Objectives
                                    p
                                        #modal-objective
                                    h4
                                        span#modal_textbooks_i18n Textbooks
                                    p
                                        #modal-textbook
                                    h4
                                        span#modal_references_i18n References
                                    p
                                        #modal-reference
                                    h4
                                        span#modal_advreferences_i18n Advanced Reference
                                    p
                                        #modal-advreference
                                    form.form-inline(method='POST',action='/lecture')
                                        #clayout_button_i18n
                                            input.btn.btn-success(type='submit',name='submit',value='layout')
                                        input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                        input(type='hidden',name='update',value='true')
                                        input(type='hidden',name='layout',value='true')
                                        input.input-title(type='hidden',name='title')
                                        input.input-objective(type='hidden',name='objective')
                                        input.input-textbook(type='hidden',name='textbook')
                                        input.input-reference(type='hidden',name='reference')
                                        input.input-advreference(type='hidden',name='advreference')
                                    form.form-inline(method='POST',action='/lecture')
                                        #edit_back_button_i18n
                                            input.btn.btn-success(type='submit',name='submit',value='back')
                                        input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                        input(type='hidden',name='update',value='true')
                                        input(type='hidden',name='layout',value='back')
                                        input.input-title(type='hidden',name='title')
                                        input.input-objective(type='hidden',name='objective')
                                        input.input-textbook(type='hidden',name='textbook')
                                        input.input-reference(type='hidden',name='reference')
                                        input.input-advreference(type='hidden',name='advreference')
                                - }
                                form.form-inline(method='POST',action='/lecture')
                                    #update_button_i18n
                                        input.btn.btn-success(type='submit',name='submit',value='false')
                                    input(type='hidden',name='lecCode',value='#{cls.lecCode}')
                                    - if(cls.lecCode!='New') {
                                        input(type='hidden',name='update',value='true')
                                        input(type='hidden',name='layout',value='false')
                                        input.input-title(type='hidden',name='title')
                                        input.input-objective(type='hidden',name='objective')
                                        input.input-textbook(type='hidden',name='textbook')
                                        input.input-reference(type='hidden',name='reference')
                                        input.input-advreference(type='hidden',name='advreference')
                                    - } else {
                                        input(type='hidden',name='update',value='create')
                                        input(type='hidden',name='title',value='#{cls.title}')
                                        input(type='hidden',name='objective',value='#{cls.objective}')
                                        input(type='hidden',name='textbook',value='#{cls.textbook}')
                                        input(type='hidden',name='reference',value='#{cls.reference}')
                                        input(type='hidden',name='advreference',value='#{cls.advreference}')
                                        input#input-leccode(type='hidden',name='Code')
                                        input(type='hidden',name='i',value='#{i}')
                                        input(type='hidden',name='j',value='#{j}')
                                    - }
                                form.form-inline(method='GET',action='/home')
                                    input(type='hidden',name='start',value='true')
                                    #cancel_and_edit_off_i18n
                                        input.btn.btn-success(type='submit',name='submit',value='CANCEL/Edit(OFF)')
                            div.modal-footer
        - if(cls.lecCode!='New') {
            div(align="center",style="font-size:4.5em;color:#0B3382;line-height:1.3em;")
                textarea#title(name='title',height='30',cols='50') #{cls.title}
                span (#{cls.lecCode})
            p
            table#ltable(border='0',cellspacing='0',cellpadding='0',width='100%')
                tbody
                   tr
                       td.leftside
                           p
                               h2
                                   font(color='#0B3382')
                                       span#objective_i18n Objectives
                           div(style='line-height:2em;')
                               img((border='0',width='15',height='15',src='img/redtri.gif')
                               textarea#objective(name='objective',height='12',cols='30') #{cls.objective}
                           p
                               h2
                                   font(color='#0B3382')
                                       span#textbooks_i18n Textbooks
                           div(style='line-height:2em;')
                               img((border='0',width='15',height='15',src='img/redtri.gif')
                               textarea#textbook(name='textbook',height='12',cols='30') #{cls.textbook}
                           p
                               h2
                                   font(color='#0B3382')
                                       span#references_i18n Reference
                           div(style='line-height:2em;')
                               img((border='0',width='15',height='15',src='img/redtri.gif')
                               textarea#reference(name='reference',height='12',cols='30') #{cls.reference}
                           p
                               h2
                                   font(color='#0B3382')
                                       span#advreferences_i18n Advanced References
                           div(style='line-height:2em;')
                               img((border='0',width='15',height='15',src='img/redtri.gif')
                               textarea#advreference(name='advreference',height='12',cols='30') #{cls.advreference}
                       td(width='100%',valign='top',style='padding-right:0pt;padding-top:0pt')
                           table(border='0',cellspacing='4',cellpadding='0',width='440',style='width:100.0%;')
                               tbody
                                   - cls.group.forEach(function(h) {
                                       tr
                                           td.righttitle2 #{h.name}
                                       - h.classes.forEach(function(f) {
                                           tr
                                               td.rightcontents2
                                                   img(border='0',width='10',height='10',src='img/redtri.gif')
                                                   a(href='intro/index.html') #{f.name}
                                       - });
                                   - });
        - } else {
            div(align='center',style='font-size:4.5em;color:#0B3382;line-height:1.3em;') #{cls.title}
                span (
                    textarea#Code(name='Code',height='12',cols='30') #{cls.lecCode}
                span )
            div.subtitle#week_i18n #{i},#{j}
        - }
        hr
        div(align='right')
            table
                tr
                    td
                        #author_name_i18n(style='font-size:2em;color:#0B3382;')
                    td
                        span(style='font-size:2em;color:#0B3382;') #{name}
                    td
                        span(style='font-size:2em;color:#0B3382;') [#{cls.lang}]

        hr
        p
            div(align='center') Last update: Mon Nov 26 21:01:16 PST 2012 by
                span(style='vertical-align:3pt;')
                    img(src="/img/logo231.gif",width="87",height="27",alt="yass@hosei.ac.jp")
                            
    include modals/alert
    include modals/lost-password

block scripts
    script(src='/vendor/jquery/jquery-1.8.1.min.js')
    script(src='/vendor/jquery/jquery.i18n.properties-1.0.9.js')
    script(src='/vendor/jquery.form.js')
    script(src='/vendor/bootstrap-modal.js')
    script(src='/vendor/bootstrap-transition.js')
    script(src='/js/views/login.js')
    script(src='/js/controllers/loginController.js')
    script(src='/js/controllers/homeController.js')
    script(src='/js/form-validators/loginValidator.js')
    script(src='/js/form-validators/emailValidator.js')
